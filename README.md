# DeskFlow

Интеллектуальное приложение для организации рабочего пространства Windows с автоматической сортировкой файлов, управлением профилями и настраиваемыми виджетами.

[![Version](https://img.shields.io/badge/version-1.0.0-blue.svg)](https://github.com/username/DeskFlow/releases)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![.NET](https://img.shields.io/badge/.NET-7.0-purple.svg)](https://dotnet.microsoft.com/)
[![Platform](https://img.shields.io/badge/platform-Windows%2010%2F11-lightgrey.svg)](https://www.microsoft.com/windows)

---

## Содержание

- [Описание](#описание)
- [Основные возможности](#основные-возможности)
  - [Автоматическая сортировка файлов](#автоматическая-сортировка-файлов)
  - [Мониторинг в реальном времени](#мониторинг-в-реальном-времени)
  - [Управление профилями](#управление-профилями)
  - [Виджеты рабочего стола](#виджеты-рабочего-стола)
  - [Персонализация](#персонализация)
  - [Резервное копирование](#резервное-копирование)
- [Системные требования](#системные-требования)
- [Установка](#установка)
- [Быстрый старт](#быстрый-старт)
- [Использование](#использование)
- [Технические характеристики](#технические-характеристики)
- [Устранение неполадок](#устранение-неполадок)
- [Вклад в проект](#вклад-в-проект)
- [Лицензия](#лицензия)

---

## Описание

**DeskFlow** — это комплексное решение для повышения продуктивности и организации рабочего пространства пользователей Windows. Приложение помогает:

- Автоматически сортировать файлы на рабочем столе
- Управлять различными профилями оформления
- Использовать полезные виджеты (часы, календарь, заметки, задачи)
- Синхронизировать настройки между сеансами работы

Проект разработан в соответствии с требованиями **спецификации DeskFlow версии 1.0** и реализует основные функции организации файловой системы, управления профилями пользователя и персонализации рабочей среды.

[Скачать последнюю версию](https://github.com/username/DeskFlow/releases/latest)

---

## Основные возможности

### Автоматическая сортировка файлов

- **Сканирование рабочего стола** — автоматическое определение типов файлов
- **Категоризация по расширениям:**
  - Документы: `.doc`, `.docx`, `.pdf`, `.txt`, `.xlsx`, `.pptx`
  - Изображения: `.jpg`, `.png`, `.gif`, `.bmp`, `.svg`
  - Видео: `.mp4`, `.avi`, `.mkv`, `.mov`
  - Аудио: `.mp3`, `.wav`, `.flac`, `.aac`
  - Архивы: `.zip`, `.rar`, `.7z`, `.tar`
  - Приложения: `.exe`, `.msi`
- **Виртуальная сортировка** — упорядочивание без физического перемещения
- **Физическое перемещение** — создание папок-категорий с файлами
- **Выбор целевой директории** для размещения отсортированных файлов
- **Отмена операций** — восстановление предыдущего состояния
- **Список исключений** для файлов, не требующих сортировки

### Мониторинг в реальном времени

- Отслеживание изменений на рабочем столе (создание, удаление, переименование)
- Автоматическая обработка новых файлов при включенном режиме автосортировки
- Системные уведомления о выполненных операциях
- Защита от сбоев при одновременных операциях
- Обработка ошибок доступа к файловой системе

### Управление профилями

- **Создание профилей** — сохранение текущего состояния рабочего стола
- **Быстрое переключение** между профилями одним кликом
- **Каждый профиль сохраняет:**
  - Список файлов и их расположение
  - Категории файлов
  - Настройки сортировки
- **Экспорт/импорт** профилей для переноса между устройствами
- **Удаление** неиспользуемых профилей

### Виджеты рабочего стола

#### Часы и дата
- Отображение текущего времени с точностью до секунды
- Поддержка 12-часового и 24-часового форматов
- Показ текущей даты и дня недели
- Автоматическое обновление в реальном времени

#### Календарь
- Месячный календарь с навигацией
- Выделение текущей даты
- Настройка первого дня недели

#### Заметки
- Текстовое поле для быстрых записей
- Автоматическое сохранение каждые 2 секунды
- Сохранение между сеансами работы
- Неограниченный объем текста

#### Список задач
- Добавление задач с описанием
- Отметка выполненных задач
- Удаление завершенных пунктов
- Счетчик выполненных и общих задач
- Визуальное зачеркивание выполненных элементов

### Персонализация

- Темы оформления (светлая, темная, системная)
- Настройка размера сетки для выравнивания иконок
- Привязка иконок к сетке
- Настройка прозрачности элементов интерфейса
- Включение/отключение теней для папок и виджетов
- Настройка скорости и типа анимаций
- Выбор фоновых изображений для профилей

### Резервное копирование

- **Экспорт данных** в JSON формат
- **Импорт данных** из резервной копии
- **Сохранение:**
  - Списка файлов и их метаданных
  - Всех созданных профилей
  - Списка задач с состоянием выполнения
- **Перенос данных** между компьютерами

---

## Системные требования

### Минимальные требования

| Компонент | Требование |
|-----------|------------|
| Операционная система | Windows 10 (версия 1909+) или Windows 11 |
| Процессор | Двухъядерный 1.8 GHz |
| Оперативная память | 2 GB RAM |
| Свободное место | 100 MB |
| Платформа | .NET 7.0 Runtime |
| Разрешение экрана | 1366×768 пикселей |

### Рекомендуемые требования

| Компонент | Требование |
|-----------|------------|
| Операционная система | Windows 11 |
| Процессор | Четырехъядерный 2.5 GHz |
| Оперативная память | 4 GB RAM |
| Свободное место | 500 MB |
| Разрешение экрана | 1920×1080 пикселей или выше |

### Дополнительные требования

- Права доступа к файловой системе для чтения и записи
- Доступ к рабочему столу Windows
- Подключение к интернету (опционально, для будущих функций синхронизации)

---

## Установка

### Способ 1: Из релиза (рекомендуется)

1. Перейдите в раздел [Releases](https://github.com/username/DeskFlow/releases)
2. Скачайте последнюю версию `DeskFlow-v1.0.0-Windows.zip`
3. Распакуйте архив в любую папку
4. Запустите `DeskFlow.exe`

### Способ 2: Сборка из исходников
```bash
# Клонируйте репозиторий
git clone https://github.com/username/DeskFlow.git

# Перейдите в директорию проекта
cd DeskFlow

# Соберите проект
dotnet build -c Release

# Запустите приложение
dotnet run
```

### Первый запуск

При первом запуске приложение автоматически:
- Создаст папку конфигурации в `%AppData%/DeskFlow`
- Выполнит сканирование рабочего стола
- Создаст начальную базу данных

---

## Быстрый старт

### 1. Сканирование рабочего стола

После запуска приложение автоматически сканирует ваш рабочий стол. Все файлы отображаются во вкладке **"Рабочий стол"** с автоматической категоризацией.

### 2. Сортировка файлов

**Виртуальная сортировка** (без перемещения):
```
Вкладка "Рабочий стол" → Кнопка "Сортировать виртуально"
```

**Физическое перемещение** (в папки):
```
Вкладка "Сортировка" → Выбрать папку → "Рабочий стол" → "Переместить в папки"
```

### 3. Создание профиля
```
Вкладка "Профили" → "Создать профиль" → Ввести имя → Готово
```

### 4. Включение мониторинга
```
Вкладка "Сортировка" → Включить "Мониторить рабочий стол в реальном времени"
```

---

## Использование

### Работа с файлами

#### Добавление файлов
1. Нажмите кнопку **"Добавить файлы"** на вкладке "Рабочий стол"
2. Выберите нужные файлы
3. Файлы автоматически добавятся в список с определением категории

#### Виртуальная сортировка
- Упорядочивает файлы в списке по категориям
- Не изменяет физическое расположение на диске
- Можно отменить операцию кнопкой **"Отменить"**

#### Физическое перемещение
1. Откройте вкладку **"Сортировка"**
2. Нажмите **"Выбрать папку"** для указания места создания категорий (по умолчанию - рабочий стол)
3. Вернитесь на вкладку **"Рабочий стол"**
4. Нажмите **"Переместить в папки"**
5. Подтвердите операцию

Файлы будут перемещены в подпапки:
```
Выбранная_папка/
├── Документы/
├── Изображения/
├── Видео/
├── Аудио/
├── Архивы/
└── Исполняемые/
```

### Работа с профилями

#### Создание профиля
1. Настройте рабочий стол как нужно
2. Откройте вкладку **"Профили"**
3. Нажмите **"Создать профиль"**
4. Введите имя и описание
5. Текущее состояние будет сохранено

#### Переключение профиля
1. Откройте список профилей
2. Нажмите **"Применить"** на нужном профиле
3. Состояние рабочего стола изменится мгновенно

#### Экспорт профиля
```
Профили → Выбрать профиль → Экспорт → Сохранить JSON файл
```

### Использование виджетов

#### Активация виджета
```
Вкладка "Виджеты" → Выбрать виджет → Просмотр
```

#### Настройка часов
- Выберите формат времени (12/24 часа) в выпадающем списке
- Время и дата обновляются автоматически каждую секунду

#### Работа с заметками
- Просто начните печатать в текстовом поле
- Заметки автоматически сохраняются каждые 2 секунды
- Текст сохраняется между запусками приложения

#### Управление задачами
- Введите текст задачи и нажмите **Enter** или кнопку **"Добавить"**
- Отмечайте выполненные задачи галочкой
- Удаляйте ненужные задачи кнопкой с корзиной

### Мониторинг в реальном времени

#### Включение мониторинга
```
Вкладка "Сортировка" → Включить "Мониторить рабочий стол в реальном времени"
```

**Приложение будет отслеживать:**
- Создание новых файлов на рабочем столе
- Удаление файлов
- Переименование файлов

**Опционально:** включите **"Автоматическая виртуальная сортировка"** для автоматической категоризации новых файлов.

### Резервное копирование

#### Экспорт данных
```
Вкладка "Настройки" → "Экспорт данных" → Выбрать место сохранения
```

Создается файл `DeskFlow_Backup_ГГГГММДД_ЧЧММСС.json` со всеми данными.

#### Импорт данных
```
Вкладка "Настройки" → "Импорт данных" → Выбрать JSON файл
```

Данные загружаются и объединяются с текущими.

---

## Технические характеристики

### Используемые технологии

| Технология | Версия |
|------------|--------|
| Платформа | .NET 7.0 |
| Framework | Windows Presentation Foundation (WPF) |
| Язык программирования | C# 11 |
| Сериализация | Newtonsoft.Json 13.0.3 |
| Целевая ОС | Windows 10/11 |

### Архитектура проекта
```
DeskFlow/
├── MainWindow.xaml          # Основной интерфейс
├── MainWindow.xaml.cs       # Логика приложения
├── Models/
│   ├── FileItem.cs          # Модель файла
│   ├── Profile.cs           # Модель профиля
│   └── TaskItem.cs          # Модель задачи
└── %AppData%/DeskFlow/
    ├── data.json            # Основные данные
    └── notes.txt            # Текст заметок
```

### Хранение данных

Приложение использует следующие файлы конфигурации:
```
%AppData%/DeskFlow/
├── data.json      # Файлы, профили, задачи
└── notes.txt      # Содержимое заметок
```

**Формат data.json:**
```json
{
  "Files": [
    {
      "Id": "guid",
      "Name": "document.pdf",
      "Path": "C:/Users/User/Desktop/document.pdf",
      "Category": "Документы",
      "Size": "1.5 MB"
    }
  ],
  "Profiles": [...],
  "Tasks": [...]
}
```

---

## Устранение неполадок

### Приложение не запускается

**Проблема:** Ошибка "Framework not found"

**Решение:**
1. Установите [.NET 7.0 Runtime](https://dotnet.microsoft.com/download/dotnet/7.0)
2. Перезагрузите компьютер
3. Запустите приложение снова

---

**Проблема:** Ошибка "Access denied"

**Решение:**
1. Убедитесь, что у вашего пользователя есть права на запись в папку `%AppData%`
2. Запустите приложение от имени администратора (правой кнопкой → "Запуск от имени администратора")
3. Проверьте настройки антивируса

---

### Мониторинг не работает

**Проблема:** Файлы на рабочем столе не отслеживаются

**Решение:**
1. Проверьте, включен ли мониторинг в настройках (`Вкладка "Сортировка"`)
2. Перезапустите приложение
3. Проверьте права доступа к рабочему столу
4. Убедитесь, что путь к рабочему столу стандартный (`C:/Users/Username/Desktop`)

---

### Файлы не перемещаются

**Проблема:** Ошибка при перемещении файлов в папки

**Решение:**
1. Убедитесь, что файлы не используются другими программами
2. Проверьте наличие свободного места на диске (требуется минимум 100 MB)
3. Проверьте права на запись в целевую папку
4. Закройте файлы в других приложениях (Word, Excel, просмотрщики изображений)

---

### Виджеты не сохраняются

**Проблема:** Данные в виджетах пропадают после перезапуска

**Решение:**
1. Проверьте права на запись в `%AppData%/DeskFlow`
2. Убедитесь, что файлы `data.json` и `notes.txt` не защищены от записи
3. Отключите "Только для чтения" в свойствах папки

---

### Высокое потребление памяти

**Проблема:** Приложение использует много оперативной памяти

**Решение:**
1. Закройте неиспользуемые виджеты
2. Очистите список файлов (удалите файлы, которые уже не на рабочем столе)
3. Удалите старые профили
4. Перезапустите приложение

---

## Вклад в проект

Мы приветствуем вклад в развитие проекта! Вот как вы можете помочь:

### Сообщение об ошибках

1. Проверьте [Issues](https://github.com/username/DeskFlow/issues), нет ли уже такой проблемы
2. Создайте новый Issue с подробным описанием:
   - Версия приложения
   - Версия Windows
   - Шаги для воспроизведения
   - Ожидаемое поведение
   - Фактическое поведение
   - Скриншоты (если применимо)

### Предложение функций

1. Откройте [Issues](https://github.com/username/DeskFlow/issues)
2. Используйте тег `enhancement`
3. Подробно опишите предлагаемую функцию
4. Объясните, как это улучшит приложение

### Pull Requests

1. Форкните репозиторий
2. Создайте ветку для вашей функции (`git checkout -b feature/AmazingFeature`)
3. Закоммитьте изменения (`git commit -m 'Add some AmazingFeature'`)
4. Отправьте в ветку (`git push origin feature/AmazingFeature`)
5. Откройте Pull Request

### Стандарты кода

- Используйте C# naming conventions
- Комментируйте сложную логику
- Пишите XML-документацию для публичных методов
- Следуйте принципам SOLID

---

## Дорожная карта

### Версия 1.1 (Планируется)

- [ ] Поддержка тем оформления (светлая/темная)
- [ ] Горячие клавиши для быстрых действий
- [ ] Расширенные настройки категорий
- [ ] Статистика использования файлов

### Версия 2.0 (В разработке)

- [ ] Облачная синхронизация настроек
- [ ] Интеграция с OneDrive/Google Drive
- [ ] Мобильное приложение-компаньон
- [ ] Плагины и расширения

### Версия 3.0 (Концепция)

- [ ] Машинное обучение для умной сортировки
- [ ] Поддержка Linux и macOS
- [ ] Корпоративная версия с централизованным управлением

---

## Лицензия

Этот проект распространяется под лицензией MIT License. Подробности в файле [LICENSE](LICENSE).
```
MIT License

Copyright (c) 2025 DeskFlow Team

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files...
```

---

## Контакты и поддержка

- **GitHub Issues:** [Сообщить о проблеме](https://github.com/username/DeskFlow/issues)
- **Документация:** [Wiki](https://github.com/username/DeskFlow/wiki)
- **Email:** support@deskflow.app
- **Telegram:** [@deskflow_support](https://t.me/deskflow_support)

---

## Благодарности

- Команда разработчиков .NET за отличный фреймворк
- Сообщество открытого ПО за вдохновение
- Всем участникам, которые тестировали и предлагали улучшения

---

## Статистика проекта

![GitHub stars](https://img.shields.io/github/stars/username/DeskFlow?style=social)
![GitHub forks](https://img.shields.io/github/forks/username/DeskFlow?style=social)
![GitHub watchers](https://img.shields.io/github/watchers/username/DeskFlow?style=social)

---

**Сделано с любовью для продуктивной работы**

[В начало](#deskflow)
